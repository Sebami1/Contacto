<!DOCTYPE html>
<html lang="es">
  <head><meta charset="gb18030">
    
    <meta content="initial-scale=1, shrink-to-fit=no, width=device-width" name="viewport">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i|Roboto+Mono:300,400,700|Roboto+Slab:300,400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="css/material.min.css" rel="stylesheet">
    <title>Registro de Contacto</title>
  </head>
  <body>
  
  <nav class="navbar navbar-light bg-light " style="color: #fff !important; background-color: #563d7c !important;">
      <a class="navbar-brand" href="https://blogangular-c7858.web.app/"> 
          Wolfstore 
      </a>
      <h5 class="form-inline">Sebastian H.D</h5>
  </nav>


	
  <div class="container mt-5">

    <h3 class="text-center mb-5" style="color:#555 ; font-weight: 800;">
        Registro de Contacto 
      <hr>
    </h3>
        

    <form  name="formulario" id="formulario" action="enviarOne.php" method="post" enctype="multipart/form-data">
        <div class="row justify-content-center">
            <div class="col-6">
                <div class="form-group">
                    <label for="nombre">Nombre Completo</label>
                    <input type="text" name="nombre"  placeholder="Escriba su Nombre"  class="form-control" required="true">
                </div>
            </div>
             <div class="col-6">
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" name="email" placeholder="Su email"  class="form-control">
                </div>
            </div>
          </div>
          <div class="input-group mb-7">
            <div class="input-group-prepend">
                <div class="form-group">
                    <text for="mensaje">Mensaje </text>
                    <textarea id="mensaje" name="mensaje" rows="1" required></textarea>
                </div>
            </div>
          </div>
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text">Archivo</span>
            </div>
            <div class="custom-file">
              <input type="file" name="my_file" id="my_file" class="custom-file-input" multiple>
              <label class="custom-file-label" for="inputGroupFile01">Hacer click aqui..!</label>
            </div>
          </div>

          <div class="col-12 text-center mt-5 mb-5">
            <button id="btnEnviar" type="button" class="btn btn-primary">ENVIAR</button>
          </div>
        </form>
        
      </div>
      <script>
        $(document).ready(function() {
            // Función para mostrar SweetAlert antes de enviar el formulario
            $("#btnEnviar").click(function() {
                Swal.fire({
                    title: '¿Estás seguro?',
                    text: '¿Quieres enviar el formulario?',
                    icon: 'question',
                    showCancelButton: true,
                    confirmButtonText: 'Sí, enviar',
                    cancelButtonText: 'Cancelar'
                }).then((result) => {
                    if (result.isConfirmed) {
                        // Si el usuario confirma, enviar el formulario usando AJAX
                        $.ajax({
                            type: "POST",
                            url: "enviarOne.php",
                            data: $("#formulario").serialize(), // Serializar el formulario para enviar los datos
                            success: function(response) {
                                // Aquí puedes manejar la respuesta del servidor si es necesario
                                console.log(response);
                                // Recargar la página después de enviar el formulario
                                window.location.reload();
                            },
                            error: function(xhr, status, error) {
                                console.error(xhr.responseText);
                                // Mostrar mensaje de error si hay un problema con AJAX
                                alert("Hubo un error al procesar la solicitud.");
                            }
                        });
                    }
                });
            });
        });
            </script>



    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="js/material.min.js"></script>
</body>
</html>